<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>generator--生成器函数</title>
	</head>
	<body>
		
		<ul class="box"></ul>
		
		<script type="text/javascript" src="script/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="script/runner.js"></script>
		<script>
			
			/*普通函数---一路到底
			 * generator函数----中间能停(常用于解决异步操作)
			 * 	踹一脚走一步		
			 * 
			 * 
			 * 普通函数
			 * function 函数名(){   
			 * 		代码...
			 * 
			 * 		ajax(xxx,function(){
			 * 			代码...
			 * 		})
			 * }
			 * 
			 * 
			 * generator函数
			 * 
			 * function *函数名(){
			 * 		代码...
			 * 
			 * 		yield ajax(xxx);
			 * 		
			 * 		代码...
			 * }
			 */
			
			
			function *show(){
				alert("a");
				yield;
				alert("b");
			}
			
			let func=show();
			func.next(); // a
			func.next(); // a b
			
			runner(function *(){
				let data1=yield $.ajax({url:'data/arr.txt', dataType:'json'});
				let data2=yield $.ajax({url:'data/json.txt', dataType:'json'});
				let data3=yield $.ajax({url:'data/num.txt', dataType:'json'});
				
				console.log(data1,data2,data3); // [12, 78, 9, 65, 35, 1, 7] {a: 5, b: 9, c: "qian"} 888
				
				for (let i of data1) {
					$(".box").append(`<li>${i}</li>`);
				}
			})
			
			
		</script>
		
	</body>
</html>
